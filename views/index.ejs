<html>
  <%- include('./partials/head.ejs') %>
  <body>
    <%- include('./partials/header.ejs') %>
    <div class="container is-fluid">
      <h1 class="title">Upcoming Meetups</h1>
      <ul>
        <% for (let i = 0; i < meetups.length; i++) { %>
        <li>
          <a href="/meetups"><%=meetups[i].meetup.name%></a>
          <p><%=meetups[i].partnerUsername%></p>
        </li>
        <% } %>
      </ul>

      <h1 class="title">New Messages</h1>
      <ul>
        <% for (let i = 0; i < messages.length; i++) { %>
        <li>
          <a href="/conversations/post/<%=messages[i].message.from%>"
            ><%=messages[i].message.message%></a
          >
          <p><%=messages[i].partnerUsername%></p>
        </li>
        <% } %>
      </ul>

      <h1 class="title">New Invites</h1>

      <ul>
        <% for (let i = 0; i < invites.length; i++) { %>
        <a href="/user/profile/<%=invites[i].invite.from%>">
          <div class="card user-card-container">
            <figure class="image is-128x128">
              <img
                src="<%=invites[i].partnerImg %>"
                alt=""
                class="is-rounded user-card"
              />
            </figure>
            <div class="card-content">
              <h3 class="title is-3"><%=invites[i].partnerUsername%></h3>
              <p>
                <%=invites[i].invite.message.length > 140 ?
                invites[i].invite.message.slice(0, 139) + "..." :
                invites[i].invite.message %>
              </p>
            </div>
          </div>
        </a>
        <% } %>
      </ul>
      <% if (invites.length === 0) { %>
      <p>No new invites! Go out and <a href="/search">meet</a> some people!</p>
      <% } %>
    </div>
  </body>
</html>
