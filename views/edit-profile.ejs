<html>
  <%- include('./partials/head.ejs') %>
  <body>
    <%- include('./partials/header.ejs') %>
    <div class="container has-text-centered">
      <h1 class="title">Edit Profile</h1>
      <%- include('./partials/profileForm.ejs') %>
      <br />
      <div class="level">
        <div class="level-item">
          <p>to toggle your account visibility, select the below:</p>
        </div>
      </div>

      <form action="/user/toggle-active?_method=PUT" method="post">
        <div class="level">
          <div class="level-item">
            <button type="submit" class="button is-rounded is-small is-warning">
              <%=`${user.active ? "deactivate" : "reactivate"}`%>
            </button>
          </div>
        </div>
      </form>
      <br />
      <div class="level">
        <div class="level-item">
          <p>Not recommended, as you will permanently lose all your data!</p>
        </div>
      </div>
      <div class="level">
        <div class="level-item">
          <p>Please consider just deactivating instead</p>
        </div>
      </div>
      <div class="level">
        <div class="level-item">
          <p>
            That said, if you truly want to be removed from the system, you may
            delete your account below:
          </p>
        </div>
      </div>

      <form action="/user/permadelete?_method=DELETE" method="post">
        <div class="level">
          <div class="level-item">
            <button type="submit" class="button is-small is-rounded is-danger">
              Delete Account
            </button>
          </div>
        </div>
      </form>
    </div>

    <!-- modal form to present erros to user -->
    <div class="modal<%=errorMessage ? " is-active" : ""%>">
      <div class="modal-background"></div>
      <div class="modal-content">
        <!-- Any other Bulma elements you want -->
        <div class="container">
          <article class="message is-danger">
            <div class="message-header">
              <p id="error-modal-title">Error!</p>
            </div>
            <div class="message-body has-text-centered">
              <%=errorMessage%>
            </div>
          </article>
        </div>
        <button class="modal-close is-large" aria-label="close"></button>
      </div>
    </div>
  </body>
  <script src="/scripts/removeModal.js"></script>
</html>
